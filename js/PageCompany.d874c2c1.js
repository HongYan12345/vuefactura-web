import{r as w,a as g,d as N,t as F,u as I,c as R,y as V,o as O,e as S,V as B,W as M,X as P,I as U,Y as L,O as q,_ as z,f as m,g as $,h as j,j as r,k as i,w as p,l as s,q as c,F as H}from"./index.a1f9718e.js";const J={components:{},setup(){const e=w({forma:g("TRANSFERENCIA"),date:g(N().format("DD/MM/YYYY")),num:"",modifica_dato:!1,empresa_name:"",empresa_direccion:"",empresa_telefono:"",empresa_cp:"",empresa_poblation:"",empresa_nif:"",client_name:"",client_direccion:"",client_telefono:"",client_cp:"",client_poblation:"",client_nif:"",client_forma:""}),t=F(e),h=I(),o=R(),{t:A}=V(),u=g([]),f=g(!1),v=()=>{e.modifica_dato=!0},C=()=>{f.value=!0;const n={id:1,name:e.empresa_name,direccion:e.empresa_direccion,telefono:e.empresa_telefono,cp:e.empresa_cp,poblation:e.empresa_poblation,nif:e.empresa_nif};o.state.isVisitor?B(n).then(()=>{e.modifica_dato=!1,f.value=!1}):S("empresa",n.id,n).then(()=>{e.modifica_dato=!1,f.value=!1})},b=()=>{o.state.isVisitor?L().then(n=>{console.log("[PageCompany]empresa en base de dato:",n),n[0]&&(e.empresa_name=n[0].name,e.empresa_telefono=n[0].telefono,e.empresa_direccion=n[0].direccion,e.empresa_cp=n[0].cp,e.empresa_nif=n[0].nif,e.empresa_poblation=n[0].poblation)}):U("empresa").then(n=>{console.log("[PageCompany]empresa en firebase:",n),n[0]&&(e.empresa_name=n[0].name,e.empresa_telefono=n[0].telefono,e.empresa_direccion=n[0].direccion,e.empresa_cp=n[0].cp,e.empresa_nif=n[0].nif,e.empresa_poblation=n[0].poblation)}).catch(n=>{console.error("Error getting data: ",n)})},k=()=>{o.state.isVisitor?q().then(n=>{n.forEach(a=>{u.value.push({value:a.telefono,label:a.telefono+" "+a.name})}),console.log("[PageCompany]list_client en base de dato:",u)}):U("clientes").then(n=>{console.log("[PageCompany]list_client en FireBase:",n),n.forEach(a=>{u.value.push({value:a.telefono,label:a.telefono+" "+a.name})})}).catch(n=>{console.error("Error getting data: ",n)})},E=()=>{console.log("cliente select: ",e.client_name),_(),h.push({name:"table"})},y=()=>{_(),h.back()},d=()=>{console.log("Update",o.state.data_cliente),o.state.data_cliente&&(e.client_name=o.state.data_cliente.name,e.client_direccion=o.state.data_cliente.direccion,e.client_telefono=o.state.data_cliente.telefono,e.client_cp=o.state.data_cliente.cp,e.client_poblation=o.state.data_cliente.poblation,e.client_nif=o.state.data_cliente.nif,e.client_forma=o.state.data_cliente.forma),e.num=o.state.num,e.date=o.state.date,b(),k(),_()},T=n=>{o.state.isVisitor?P(n).then(a=>{console.log("select dato client en base de dato:",a),a[0]&&(e.client_name=a[0].name,e.client_direccion=a[0].direccion,e.client_telefono=a[0].telefono,e.client_cp=a[0].cp,e.client_poblation=a[0].poblation,e.client_nif=a[0].nif,e.client_forma=a[0].forma)}):M("clientes",n).then(a=>{console.log("select dato client en firebase:",a),e.client_name=a.name,e.client_direccion=a.direccion,e.client_telefono=a.telefono,e.client_cp=a.cp,e.client_poblation=a.poblation,e.client_nif=a.nif,e.client_forma=a.forma}).catch(a=>{console.error("Error getting data: ",a)})},_=()=>{o.commit("saveEmpresa",{name:e.empresa_name,direccion:e.empresa_direccion,telefono:e.empresa_telefono,cp:e.empresa_cp,poblation:e.empresa_poblation,nif:e.empresa_nif}),o.commit("saveNum",{num:e.num,date:e.date,forma:e.forma}),o.commit("saveCliente",{name:e.client_name,direccion:e.client_direccion,telefono:e.client_telefono,cp:e.client_cp,poblation:e.client_poblation,nif:e.client_nif,forma:e.client_forma})},D=()=>N().format("YYYY-MM-DD HH:mm:ss"),l=()=>{console.log(e.forma)},Y=()=>{e.num=e.num.replace(/[^0-9]/g,"")};return O(()=>{d()}),{...t,t:A,store:o,clients_list:u,selectCliente:T,modificaDato:v,handleOkDato:C,goTable:E,goBack:y,confirmLoading:f,today:D,validateNumberInput:Y,handleChange:l}}},W={class:"button-container"},X={class:"data_empresa"},G={class:"company_title"},K=r("br",null,null,-1),Q=r("br",null,null,-1),Z={class:"data_empresa"},x={class:"company_title"},ee=r("br",null,null,-1),ne=r("br",null,null,-1);function oe(e,t,h,o,A,u){const f=m("a-button"),v=m("a-date-picker"),C=m("a-input-number"),b=m("a-radio-button"),k=m("a-radio-group"),E=m("a-space"),y=m("a-select"),d=m("a-input"),T=m("a-modal"),_=m("a-col"),D=m("a-row");return $(),j(H,null,[r("div",W,[i(f,{onClick:o.goBack,class:"btn-back",size:"large"},{default:p(()=>[c(s(e.$t("back")),1)]),_:1},8,["onClick"]),i(f,{onClick:o.goTable,class:"btn-next",size:"large"},{default:p(()=>[c(s(e.$t("next")),1)]),_:1},8,["onClick"])]),r("div",null,[i(E,{direction:"vertical",size:12},{default:p(()=>[i(v,{value:e.date,"onUpdate:value":t[0]||(t[0]=l=>e.date=l),"value-format":"DD/MM/YYYY",showToday:!1},null,8,["value"]),i(C,{"addon-before":"NÂº",style:{width:"142px"},value:e.num,"onUpdate:value":t[1]||(t[1]=l=>e.num=l),min:1},null,8,["value"]),i(k,{class:"btn-select",value:e.forma,"onUpdate:value":t[2]||(t[2]=l=>e.forma=l),"button-style":"solid",onChange:o.handleChange},{default:p(()=>[i(b,{value:"TRANSFERENCIA"},{default:p(()=>[c("TRANSFERENCIA")]),_:1}),i(b,{value:"EFECTIVO"},{default:p(()=>[c("EFECTIVO")]),_:1}),i(b,{value:"TARJETA"},{default:p(()=>[c("TARJETA")]),_:1})]),_:1},8,["value","onChange"])]),_:1}),r("div",null,[r("a",{onClick:t[3]||(t[3]=(...l)=>o.modificaDato&&o.modificaDato(...l))},[r("div",X,[r("div",G,s(e.empresa_name),1),c(" "+s(e.empresa_direccion)+" ",1),K,c(" "+s(e.empresa_poblation)+" "+s(e.empresa_cp)+" ",1),Q,c(" NIF: "+s(e.empresa_nif)+" TEL: "+s(e.empresa_telefono),1)])])]),i(y,{"show-search":"",placeholder:"Select a person",style:{width:"100%"},options:o.clients_list,onSelect:o.selectCliente},null,8,["options","onSelect"]),r("div",Z,[r("div",x,s(e.client_name),1),c(" "+s(e.client_direccion)+" ",1),ee,c(" "+s(e.client_poblation)+" "+s(e.client_cp)+" ",1),ne,c(" NIF: "+s(e.client_nif)+" TEL: "+s(e.client_telefono),1)])]),i(D,{gutter:16},{default:p(()=>[i(_,{xs:24,sm:12,md:8,lg:6},{default:p(()=>[i(T,{visible:e.modifica_dato,"onUpdate:visible":t[10]||(t[10]=l=>e.modifica_dato=l),title:"Title","confirm-loading":o.confirmLoading,onOk:o.handleOkDato},{default:p(()=>[c(s(e.$t("name"))+": ",1),i(d,{value:e.empresa_name,"onUpdate:value":t[4]||(t[4]=l=>e.empresa_name=l),spellcheck:"false"},null,8,["value"]),c(" "+s(e.$t("direccion"))+": ",1),i(d,{value:e.empresa_direccion,"onUpdate:value":t[5]||(t[5]=l=>e.empresa_direccion=l),spellcheck:"false"},null,8,["value"]),c(" "+s(e.$t("poblation"))+": ",1),i(d,{value:e.empresa_poblation,"onUpdate:value":t[6]||(t[6]=l=>e.empresa_poblation=l),spellcheck:"false"},null,8,["value"]),c(" "+s(e.$t("cp"))+": ",1),i(d,{value:e.empresa_cp,"onUpdate:value":t[7]||(t[7]=l=>e.empresa_cp=l),spellcheck:"false"},null,8,["value"]),c(" "+s(e.$t("nif"))+": ",1),i(d,{value:e.empresa_nif,"onUpdate:value":t[8]||(t[8]=l=>e.empresa_nif=l),spellcheck:"false"},null,8,["value"]),c(" "+s(e.$t("telefono"))+": ",1),i(d,{value:e.empresa_telefono,"onUpdate:value":t[9]||(t[9]=l=>e.empresa_telefono=l),spellcheck:"false"},null,8,["value"])]),_:1},8,["visible","confirm-loading","onOk"])]),_:1}),i(_,{xs:24,sm:12,md:8,lg:6})]),_:1})],64)}const te=z(J,[["render",oe]]);export{te as default};
